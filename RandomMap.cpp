#include <array>
#include <iostream>
#include <time.h>

#include "Global.hpp"
#include "RandomMap.hpp"


//Sketch for the first map
std::array<std::string, MAP_HEIGHT> map_sketch_1 {
	" ################### ",
	" #........#........# ",
	" #o##.###.#.###.##o# ",
	" #.................# ",
	" #.##.#.#####.#.##.# ",
	" #....#...#...#....# ",
	" ####.### # ###.#### ",
	"    #.#   0   #.#    ",
	"#####.# ##=## #.#####",
	"     .  #123#  .     ",
	"#####.# ##### #.#####",
	"    #.#       #.#    ",
	" ####.# ##### #.#### ",
	" #........#........# ",
	" #.##.###.#.###.##.# ",
	" #o.#.....P.....#.o# ",
	" ##.#.#.#####.#.#.## ",
	" #....#...#...#....# ",
	" #.######.#.######.# ",
	" #.................# ",
	" ################### "
};

//Sketch for the second map
std::array<std::string, MAP_HEIGHT> map_sketch_2 {
	"#####################",
	"  ....#.......#....  ",
	"#####.#.#####.#.#####",
	" #.................# ",
	" #o##.#.#####.#.##o# ",
	" #....#.......#....# ",
	" ####.# ## ## #.#### ",
	" #....#   0   #....# ",
	" #.##.# ##=## #.##.# ",
	" #....  #123#  ....# ",
	" ##.#.# ##### #.#.## ",
	" #..#.#       #.#..# ",
	" #.##.#.#####.#.##.# ",
	" #......#   #......# ",
	"##.##.#########.##.##",
	" ...#.....P.....#... ",
	"###.#.#.#####.#.#.###",
	" #....#...#...#....# ",
	" #o######.#.######o# ",
	" #.................# ",
	" ################### "
};

//Sketch for the third map
std::array<std::string, MAP_HEIGHT> map_sketch_3 {
	" ################### ",
	" #......#...#......# ",
	" #o####.#.#.#.####o# ",
	" #.#......#......#.# ",
	" #...##.#.#.#.##...# ",
	"####.##.......##.####",
	" .....#.#####.#..... ",
	"###.#.    0    .#.###",
	"  #.### ##=## ###.#  ",
	"  #.#.  #123#  .#.#  ",
	"  #...# ##### #...#  ",
	"  #.#.#       #.#.#  ",
	" ##.#.# ##### #.#.## ",
	" #........#........# ",
	" #.##.###.#.###.##.# ",
	" #o.#.#...P...#.#.o# ",
	" ##.#...#.#.#...#.## ",
	" #....#...#...#....# ",
	" #.##.#.#####.#.##.# ",
	" #....#.......#....# ",
	" ################### "
};

//Sketch for the fourth map
std::array<std::string, MAP_HEIGHT> map_sketch_4 {
	" ################### ",
	" #....#.......#....# ",
	" #o##.#.#####.#.##o# ",
	" #.##...........##.# ",
	" #....##.###.##....# ",
	"#####.#.......#.#####",
	" .......#####....... ",
	"#####.#   0   #.#####",
	"    #.# ##=## #.#    ",
	"    #.  #123#  .#    ",
	"#####.# ##### #.#####",
	" .....#       #..... ",
	"###.##### # #####.###",
	"  #.......#.......#  ",
	" ##.###.#####.###.## ",
	" #........P........# ",
	" #.###.###.###.###.# ",
	" #.# #.#.....#.# #.# ",
	" #o###.#.###.#.###o# ",
	" #.................# ",
	" ################### "
};

std::array<std::string, 32> optionsMap_1{
	" #########                            ########## ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #                                             # ",
	" #########                            ########## "
};


// randomMap(std::array < std::array<std::string, MAP_HEIGHT>, 4>& mapList)
//{
//	std::array < std::array<std::string, MAP_HEIGHT>, 4> mapList {map_sketch_1, map_sketch_2, map_sketch_3, map_sketch_4};
//
//	//dobivamo random broj
//	int randomIndex = rand() % 4;
//
//	//isto tak ne znam kojeg je onda tipa pokazivac?!
//	//std::array<std::string, MAP_HEIGHT>* ptr_to_map = &mapList[randomIndex];
//	//auto& ptr_to_map = mapList[randomIndex];
//
//	return mapList[randomIndex];
//}

std::array <std::array<std::string, MAP_HEIGHT>, 4> randomMap()
{
	std::array < std::array<std::string, MAP_HEIGHT>, 4> mapList {map_sketch_1, map_sketch_2, map_sketch_3, map_sketch_4};

	//dobivamo random broj
	//int randomIndex = rand() % 4;

	return mapList;
}

std::array <std::array<std::string, 32>, 1> optionsMap()
{
	std::array < std::array<std::string, 32>, 1> optionsMap_list {optionsMap_1};

	return optionsMap_list;
}